<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      th:replace="~{fragments/layout :: layout(~{::title}, ~{::main})}">
<head>
    <title>Settings - SprintPilot</title>
</head>
<body>
    <main>
        <div class="space-y-8">
            <!-- Header Section -->
            <div>
                <h2 class="text-3xl font-bold text-gray-800">Settings</h2>
                <p class="text-gray-600">Configure your SprintPilot application preferences and defaults.</p>
            </div>

            <!-- Settings Sections -->
            <div class="space-y-6">
                
                <!-- General Settings -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200/80 p-6">
                    <h3 class="text-xl font-bold text-gray-700 border-b pb-3 mb-4">General Settings</h3>
                    <div class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Default Sprint Duration</label>
                                <select class="block w-full border-gray-300 rounded-lg shadow-sm p-2.5 text-sm focus:ring-primary-500 focus:border-primary-500">
                                    <option value="10">10 working days</option>
                                    <option value="14" selected>14 working days</option>
                                    <option value="21">21 working days</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Default Working Hours</label>
                                <select class="block w-full border-gray-300 rounded-lg shadow-sm p-2.5 text-sm focus:ring-primary-500 focus:border-primary-500">
                                    <option value="6">6 hours/day</option>
                                    <option value="7">7 hours/day</option>
                                    <option value="8" selected>8 hours/day</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Time Zone</label>
                                <select class="block w-full border-gray-300 rounded-lg shadow-sm p-2.5 text-sm focus:ring-primary-500 focus:border-primary-500">
                                    <option value="America/New_York">Eastern Time (EST/EDT)</option>
                                    <option value="America/Chicago">Central Time (CST/CDT)</option>
                                    <option value="America/Denver">Mountain Time (MST/MDT)</option>
                                    <option value="America/Los_Angeles" selected>Pacific Time (PST/PDT)</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Date Format</label>
                                <select class="block w-full border-gray-300 rounded-lg shadow-sm p-2.5 text-sm focus:ring-primary-500 focus:border-primary-500">
                                    <option value="MM/DD/YYYY" selected>MM/DD/YYYY</option>
                                    <option value="DD/MM/YYYY">DD/MM/YYYY</option>
                                    <option value="YYYY-MM-DD">YYYY-MM-DD</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AI Integration Settings -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200/80 p-6">
                    <h3 class="text-xl font-bold text-gray-700 border-b pb-3 mb-4 flex items-center space-x-2">
                        <svg class="w-5 h-5 text-primary-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                        </svg>
                        <span>AI Integration</span>
                    </h3>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <div>
                                <h4 class="text-sm font-medium text-gray-800">Enable AI Features</h4>
                                <p class="text-sm text-gray-500">Allow AI-powered insights and summaries</p>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" class="sr-only peer" checked>
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"></div>
                            </label>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">AI Provider</label>
                                <select class="block w-full border-gray-300 rounded-lg shadow-sm p-2.5 text-sm focus:ring-primary-500 focus:border-primary-500">
                                    <option value="mock" selected>Mock (Development)</option>
                                    <option value="gemini">Google Gemini</option>
                                    <option value="openai">OpenAI GPT</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Response Style</label>
                                <select class="block w-full border-gray-300 rounded-lg shadow-sm p-2.5 text-sm focus:ring-primary-500 focus:border-primary-500">
                                    <option value="concise" selected>Concise</option>
                                    <option value="detailed">Detailed</option>
                                    <option value="bullet-points">Bullet Points</option>
                                </select>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">API Key</label>
                            <div class="relative">
                                <input type="password" id="apiKey" placeholder="Enter your AI provider API key" class="block w-full border-gray-300 rounded-lg shadow-sm p-2.5 text-sm focus:ring-primary-500 focus:border-primary-500 pr-10" />
                                <button type="button" onclick="toggleApiKeyVisibility()" class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                    <svg id="eyeIcon" class="h-4 w-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notification Settings -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200/80 p-6">
                    <h3 class="text-xl font-bold text-gray-700 border-b pb-3 mb-4">Notifications</h3>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <div>
                                <h4 class="text-sm font-medium text-gray-800">Sprint Start Reminders</h4>
                                <p class="text-sm text-gray-500">Get notified when a new sprint begins</p>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" class="sr-only peer" checked>
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"></div>
                            </label>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div>
                                <h4 class="text-sm font-medium text-gray-800">Task Risk Alerts</h4>
                                <p class="text-sm text-gray-500">Receive alerts for at-risk or off-track tasks</p>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" class="sr-only peer" checked>
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"></div>
                            </label>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div>
                                <h4 class="text-sm font-medium text-gray-800">Weekly Summary Reports</h4>
                                <p class="text-sm text-gray-500">Receive weekly performance summaries</p>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" class="sr-only peer">
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"></div>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Data & Privacy -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200/80 p-6">
                    <h3 class="text-xl font-bold text-gray-700 border-b pb-3 mb-4">Data & Privacy</h3>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <div>
                                <h4 class="text-sm font-medium text-gray-800">Analytics Data Collection</h4>
                                <p class="text-sm text-gray-500">Allow collection of anonymous usage data for improvement</p>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" class="sr-only peer" checked>
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"></div>
                            </label>
                        </div>
                        
                        <div class="p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
                            <div class="flex items-start space-x-3">
                                <svg class="w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                                </svg>
                                <div>
                                    <h4 class="text-sm font-semibold text-yellow-800">Data Retention</h4>
                                    <p class="text-sm text-yellow-700 mt-1">Sprint data is automatically archived after 12 months. You can export your data at any time from the History section.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex space-x-3">
                            <button onclick="exportData()" class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                                Export All Data
                            </button>
                            <button onclick="clearData()" class="px-4 py-2 text-sm font-medium text-white bg-danger border border-transparent rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">
                                Clear All Data
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Integration Settings -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200/80 p-6">
                    <h3 class="text-xl font-bold text-gray-700 border-b pb-3 mb-4">Integrations</h3>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 bg-blue-600 rounded flex items-center justify-center">
                                    <span class="text-white text-sm font-bold">J</span>
                                </div>
                                <div>
                                    <h4 class="text-sm font-medium text-gray-800">Jira Integration</h4>
                                    <p class="text-sm text-gray-500">Import tasks directly from Jira</p>
                                </div>
                            </div>
                            <button onclick="configureJira()" class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                                Configure
                            </button>
                        </div>
                        
                        <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 bg-purple-600 rounded flex items-center justify-center">
                                    <span class="text-white text-sm font-bold">S</span>
                                </div>
                                <div>
                                    <h4 class="text-sm font-medium text-gray-800">Slack Integration</h4>
                                    <p class="text-sm text-gray-500">Send notifications to Slack channels</p>
                                </div>
                            </div>
                            <button onclick="configureSlack()" class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                                Configure
                            </button>
                        </div>
                        
                        <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 bg-blue-500 rounded flex items-center justify-center">
                                    <span class="text-white text-sm font-bold">C</span>
                                </div>
                                <div>
                                    <h4 class="text-sm font-medium text-gray-800">Confluence Integration</h4>
                                    <p class="text-sm text-gray-500">Export sprint summaries to Confluence</p>
                                </div>
                            </div>
                            <button onclick="configureConfluence()" class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                                Configure
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Save Settings Button -->
                <div class="flex justify-end space-x-3">
                    <button onclick="resetSettings()" class="px-5 py-2.5 rounded-lg font-semibold text-sm transition-all duration-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 flex items-center justify-center space-x-2 bg-gray-200 hover:bg-gray-300 text-gray-800 focus:ring-gray-400">
                        Reset to Defaults
                    </button>
                    <button onclick="saveSettings()" class="px-5 py-2.5 rounded-lg font-semibold text-sm transition-all duration-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 flex items-center justify-center space-x-2 bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-500">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                        Save Settings
                    </button>
                </div>

            </div>
        </div>

        <script>
            function toggleApiKeyVisibility() {
                const apiKeyInput = document.getElementById('apiKey');
                const eyeIcon = document.getElementById('eyeIcon');
                
                if (apiKeyInput.type === 'password') {
                    apiKeyInput.type = 'text';
                    eyeIcon.innerHTML = `
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"></path>
                    `;
                } else {
                    apiKeyInput.type = 'password';
                    eyeIcon.innerHTML = `
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                    `;
                }
            }

            function saveSettings() {
                alert('Settings saved successfully (mock functionality)');
            }

            function resetSettings() {
                if (confirm('Are you sure you want to reset all settings to defaults?')) {
                    alert('Settings reset to defaults (mock functionality)');
                }
            }

            function exportData() {
                alert('Data export initiated (mock functionality)');
            }

            function clearData() {
                if (confirm('Are you sure you want to clear all data? This action cannot be undone.')) {
                    alert('All data cleared (mock functionality)');
                }
            }

            function configureJira() {
                alert('Jira integration configuration (mock functionality)');
            }

            function configureSlack() {
                alert('Slack integration configuration (mock functionality)');
            }

            function configureConfluence() {
                alert('Confluence integration configuration (mock functionality)');
            }
        </script>
    </main>
</body>
</html>