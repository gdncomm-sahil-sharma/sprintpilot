# ===================================================================
# SprintPilot Application Configuration
# ===================================================================

# ===================================================================
# Server Configuration
# ===================================================================
server.port=8080
server.servlet.context-path=/

# ===================================================================
# Spring Application
# ===================================================================
spring.application.name=SprintPilot

# ===================================================================
# Database Configuration
# ===================================================================
spring.datasource.url=jdbc:postgresql://localhost:5432/sprint_pilot
spring.datasource.username=
spring.datasource.password=
spring.datasource.driver-class-name=org.postgresql.Driver

# ===================================================================
# JPA / Hibernate Configuration
# ===================================================================
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=${DB_DIALECT:org.hibernate.dialect.PostgreSQLDialect}
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.open-in-view=false

# ===================================================================
# Thymeleaf Configuration
# ===================================================================
spring.thymeleaf.cache=false
spring.thymeleaf.mode=HTML
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html

# ===================================================================
# Spring AI Configuration for OpenAI
# ===================================================================
# Get your API key from: https://platform.openai.com/api-keys
spring.ai.openai.api-key=${OPENAI_API_KEY:}
# OpenAI Model Configuration
# Supported models: gpt-4o-mini (recommended), gpt-4o, gpt-3.5-turbo, gpt-5-nano-2025-08-07
spring.ai.openai.chat.options.model=${OPENAI_MODEL:gpt-4.1-mini}
# Note: gpt-5-nano only supports temperature=1 (default), other models support 0.0-2.0
spring.ai.openai.chat.options.temperature=0.7
spring.ai.openai.chat.options.top-p=0.9
# Note: Newer models use max-completion-tokens
spring.ai.openai.chat.options.max-tokens=2048
# ===================================================================
# Static Resources Configuration
# ===================================================================
spring.web.resources.static-locations=classpath:/static/
spring.web.resources.cache.period=3600

# ===================================================================
# File Upload Configuration
# ===================================================================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ===================================================================
# SpringDoc OpenAPI / Swagger Configuration
# ===================================================================
springdoc.api-docs.path=/api-docs
springdoc.api-docs.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.operations-sorter=method
springdoc.swagger-ui.tags-sorter=alpha
springdoc.swagger-ui.try-it-out-enabled=true
springdoc.packages-to-scan=com.sprintpilot.controller
springdoc.paths-to-match=/api/**

# ===================================================================
# Application Specific Properties - Sprint Configuration
# ===================================================================
# Default sprint duration in working days
app.sprint.default-duration=10
app.sprint.default-capacity.backend=7
app.sprint.default-capacity.frontend=6
app.sprint.default-capacity.qa=5
app.sprint.default-capacity.devops=6
app.sprint.default-capacity.manager=4
app.sprint.default-capacity.designer=5

# ===================================================================
# Application Specific Properties - Utilization Configuration
# ===================================================================
# Ideal gap threshold for member utilization (in hours)
# Gap within Â±ideal-gap-threshold is considered PROPERLY_UTILIZED
app.utilization.ideal-gap-threshold=5

# ===================================================================
# Application Specific Properties - AI Configuration
# ===================================================================
# Enable/disable AI features
app.ai.enabled=${AI_ENABLED:true}

# AI Provider Selection: openai or mock
app.ai.provider=${AI_PROVIDER:openai}

# Rate limiting for AI API calls (requests per minute)
app.ai.rate-limit.requests-per-minute=${AI_RATE_LIMIT:10}
app.ai.rate-limit.burst-capacity=${AI_BURST_CAPACITY:20}

# ===================================================================
# Application Specific Properties - Data Configuration
# ===================================================================
app.data.mock-data-path=classpath:/dummy-data/

# ===================================================================
# Logging Configuration
# ===================================================================
logging.level.root=INFO
logging.level.com.sprintpilot=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.springframework.ai=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.file.name=./logs/sprintpilot.log

# ===================================================================
# Jira Integration Configuration
# ===================================================================
atlassian.base-url=https://test-sprint-planning.atlassian.net/
atlassian.email=
atlassian.api-token=
atlassian.connect-timeout=5s
atlassian.read-timeout=10s
atlassian.wiki-path=/wiki
atlassian.jira-project-name=Test

# Microsoft Teams Integration Configuration
# ===================================================================
# Microsoft Teams webhook URL for sending notifications
# Get this from Teams channel: Connectors > Incoming Webhook
teams.webhook.url=

# ===================================================================
# Confluence Integration Configuration
# ===================================================================
# Confluence space key where sprint pages will be created
confluence.space-key=${CONFLUENCE_SPACE_KEY:SP}
# ===================================================================